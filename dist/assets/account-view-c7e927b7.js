import{l as C,n as y,i as b,r as S,ai as k,j as e,S as n,A as p,I as m,T as h,B as P,R as I,f as B}from"./index-bc8ae58b.js";import{c as A,a as w}from"./object-27800475.js";import{u as T,L as q}from"./formik.esm-0d10ef93.js";import{T as t}from"./TextField-6c9a6d52.js";import{I as x}from"./InputAdornment-95fbd446.js";import{C as v}from"./Container-a4985de8.js";import{C as z}from"./Card-e1127933.js";const E=A().shape({old_password:w().required("old password is Required"),new_password:w().required("new password is Required")});function V(){var l,c;const g=C(),a=y(r=>r),u=(c=(l=a==null?void 0:a.auth.user)==null?void 0:l.data)==null?void 0:c.token,f=b(),[o,i]=S.useState(!1),{isSuccess4:F,isError:N,message:d}=a.auth,s=T({initialValues:{old_password:"",new_password:"",email:""},validationSchema:E,onSubmit:r=>{const _={old_password:r==null?void 0:r.old_password,new_password:r==null?void 0:r.new_password,email:r==null?void 0:r.email,token:u};g(k(_))}}),j=e.jsxs(e.Fragment,{children:[e.jsxs(n,{spacing:3,sx:{margin:"1rem 0"},children:[e.jsx(t,{sx:{margin:"1rem 0"},name:"email",label:"Email",value:s.values.email,onChange:s.handleChange("email")}),e.jsx(t,{name:"old_password",label:"Current Password",value:s.values.old_password,onChange:s.handleChange("old_password"),onBlur:s.handleBlur("old_password"),type:o?"text":"password",InputProps:{endAdornment:e.jsx(x,{position:"end",children:e.jsx(p,{onClick:()=>i(!o),edge:"end",children:e.jsx(m,{icon:o?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.old_password&&s.errors.old_password}),e.jsx(t,{sx:{margin:"1rem 0"},name:"new_password",label:"New Password",value:s.values.new_password,onChange:s.handleChange("new_password"),onBlur:s.handleBlur("new_password"),type:o?"text":"password",InputProps:{endAdornment:e.jsx(x,{position:"end",children:e.jsx(p,{onClick:()=>i(!o),edge:"end",children:e.jsx(m,{icon:o?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.new_password&&s.errors.new_password})]}),e.jsx("div",{className:"error mt-2",style:{color:"green",fontSize:"14px",margin:"0.5rem 0"},children:d==="success"?`password change ${d}`:""}),e.jsx(q,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:s.handleSubmit,children:"Change Password"})]});return e.jsxs(v,{children:[e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsx(h,{variant:"h4",children:"Account"})}),e.jsx(P,{sx:{...I({color:B(f.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:e.jsx(n,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(z,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(h,{sx:{margin:"0 0 2rem 0"},variant:"h4",children:"Update Password"}),j]})})})]})}export{V as A};
