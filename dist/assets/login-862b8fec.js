import{l as f,n as w,i as y,$ as v,r as l,z as C,ar as S,j as e,S as n,J as b,I as k,L as B,B as d,D as E,a1 as I,f as L,a7 as P,C as T,T as A,W as F}from"./index-ef06bb94.js";import{c as q,a as c}from"./object-b811dff8.js";import{T as m}from"./TextField-f4746776.js";import{I as z}from"./InputAdornment-5002c108.js";import"./identity-69e6ff7f.js";import"./Select-28047b4e.js";import"./Menu-32b2f8ca.js";import"./isMuiElement-7cfb1190.js";const R=q().shape({email:c().email("Email should be valid").required("Email is Required"),password:c().required("Password is Required")});function J(){const h=f(),x=w(i=>i),{user:a,isLoading:p}=x.auth,t=a==null?void 0:a.token;console.log(a);const u=y(),r=v(),[o,g]=l.useState(!1),s=C({initialValues:{email:"",password:""},validationSchema:R,onSubmit:i=>{h(S(i))}}),j=e.jsxs(e.Fragment,{children:[e.jsxs(n,{spacing:3,children:[e.jsx(m,{value:s.values.email,onChange:s.handleChange("email"),onBlur:s.handleBlur("email"),label:"Email address"}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.email&&s.errors.email}),e.jsx(m,{name:"password",label:"Password",value:s.values.password,onChange:s.handleChange("password"),onBlur:s.handleBlur("password"),type:o?"text":"password",InputProps:{endAdornment:e.jsx(z,{position:"end",children:e.jsx(b,{onClick:()=>g(!o),edge:"end",children:e.jsx(k,{icon:o?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.password&&s.errors.password})]}),e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3}}),e.jsx(B,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:s.handleSubmit,children:p?e.jsx(d,{sx:{display:"flex"},children:e.jsx(E,{})}):"Login"}),e.jsx("div",{style:{color:"orangered"},children:e.jsx("span",{children:a==null?void 0:a.message})})]});return l.useEffect(()=>{t?r.push("/"):r.push("/login")},[t,r]),e.jsxs(d,{sx:{...I({color:L(u.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(P,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(n,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(T,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(A,{sx:{margin:"0 0 2rem 0",textAlign:"center"},variant:"h4",children:"JEA"}),j]})})]})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{children:e.jsx("title",{children:" JEA | LOgin "})}),e.jsx(J,{})]})}export{_ as default};
