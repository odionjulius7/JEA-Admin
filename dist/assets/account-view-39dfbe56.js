import{l as y,n as C,i as b,r as S,z as k,aq as P,j as e,S as o,J as p,I as m,L as I,y as B,T as h,B as T,a1 as A,f as q,C as z}from"./index-b81df9fe.js";import{c as v,a as w}from"./object-df771bb5.js";import{T as d}from"./TextField-893d1b20.js";import{I as x}from"./InputAdornment-5b215b00.js";const E=v().shape({old_password:w().required("old password is Required"),new_password:w().required("new password is Required")});function W(){var l,c;const g=y(),n=C(r=>r),u=(c=(l=n==null?void 0:n.auth.user)==null?void 0:l.data)==null?void 0:c.token,j=b(),[a,t]=S.useState(!1),{isSuccess4:F,isError:N,message:i}=n.auth,s=k({initialValues:{old_password:"",new_password:"",email:""},validationSchema:E,onSubmit:r=>{const _={old_password:r==null?void 0:r.old_password,new_password:r==null?void 0:r.new_password,email:r==null?void 0:r.email,token:u};g(P(_))}}),f=e.jsxs(e.Fragment,{children:[e.jsxs(o,{spacing:3,sx:{margin:"1rem 0"},children:[e.jsx(d,{sx:{margin:"1rem 0"},name:"email",label:"Email",value:s.values.email,onChange:s.handleChange("email")}),e.jsx(d,{name:"old_password",label:"Current Password",value:s.values.old_password,onChange:s.handleChange("old_password"),onBlur:s.handleBlur("old_password"),type:a?"text":"password",InputProps:{endAdornment:e.jsx(x,{position:"end",children:e.jsx(p,{onClick:()=>t(!a),edge:"end",children:e.jsx(m,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.old_password&&s.errors.old_password}),e.jsx(d,{sx:{margin:"1rem 0"},name:"new_password",label:"New Password",value:s.values.new_password,onChange:s.handleChange("new_password"),onBlur:s.handleBlur("new_password"),type:a?"text":"password",InputProps:{endAdornment:e.jsx(x,{position:"end",children:e.jsx(p,{onClick:()=>t(!a),edge:"end",children:e.jsx(m,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.new_password&&s.errors.new_password})]}),e.jsx("div",{className:"error mt-2",style:{color:"green",fontSize:"14px",margin:"0.5rem 0"},children:i==="success"?`password change ${i}`:""}),e.jsx(I,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:s.handleSubmit,children:"Change Password"})]});return e.jsxs(B,{children:[e.jsx(o,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsx(h,{variant:"h4",children:"Account"})}),e.jsx(T,{sx:{...A({color:q(j.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:e.jsx(o,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(z,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(h,{sx:{margin:"0 0 2rem 0"},variant:"h4",children:"Update Password"}),f]})})})]})}export{W as A};
