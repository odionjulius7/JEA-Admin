import{r as i,b as N,ae as B,bp as J,ap as $,af as Q,j as _,ah as X,_ as F,a as Y,g as Z,s as j,V as ee,as as te,bq as se,u as oe,i as ne,an as A,c as re,d as ae}from"./index-ef06bb94.js";function xe({controlled:t,default:e,name:s,state:f="value"}){const{current:n}=i.useRef(t!==void 0),[g,p]=i.useState(e),l=n?t:g,d=i.useCallback(b=>{n||p(b)},[]);return[l,d]}function we({props:t,states:e,muiFormControl:s}){return e.reduce((f,n)=>(f[n]=t[n],s&&typeof t[n]>"u"&&(f[n]=s[n]),f),{})}const ie=i.createContext(void 0),le=ie;function Se(){return i.useContext(le)}const ue=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function K(t,e,s){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:s?null:t.firstChild}function H(t,e,s){return t===e?s?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:s?null:t.lastChild}function U(t,e){if(e===void 0)return!0;let s=t.innerText;return s===void 0&&(s=t.textContent),s=s.trim().toLowerCase(),s.length===0?!1:e.repeating?s[0]===e.keys[0]:s.indexOf(e.keys.join(""))===0}function S(t,e,s,f,n,g){let p=!1,l=n(t,e,e?s:!1);for(;l;){if(l===t.firstChild){if(p)return!1;p=!0}const d=f?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!U(l,g)||d)l=n(t,l,s);else return l.focus(),!0}return!1}const ce=i.forwardRef(function(e,s){const{actions:f,autoFocus:n=!1,autoFocusItem:g=!1,children:p,className:l,disabledItemsFocusable:d=!1,disableListWrap:b=!1,onKeyDown:P,variant:C="selectedMenu"}=e,I=N(e,ue),m=i.useRef(null),L=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});B(()=>{n&&m.current.focus()},[n]),i.useImperativeHandle(f,()=>({adjustStyleForScrollbar:(o,r)=>{const c=!m.current.style.width;if(o.clientHeight<m.current.clientHeight&&c){const h=`${J($(o))}px`;m.current.style[r.direction==="rtl"?"paddingLeft":"paddingRight"]=h,m.current.style.width=`calc(100% + ${h})`}return m.current}}),[]);const R=o=>{const r=m.current,c=o.key,h=$(r).activeElement;if(c==="ArrowDown")o.preventDefault(),S(r,h,b,d,K);else if(c==="ArrowUp")o.preventDefault(),S(r,h,b,d,H);else if(c==="Home")o.preventDefault(),S(r,null,b,d,K);else if(c==="End")o.preventDefault(),S(r,null,b,d,H);else if(c.length===1){const a=L.current,M=c.toLowerCase(),v=performance.now();a.keys.length>0&&(v-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&M!==a.keys[0]&&(a.repeating=!1)),a.lastTime=v,a.keys.push(M);const T=h&&!a.repeating&&U(h,a);a.previousKeyMatched&&(T||S(r,h,!1,d,K,a))?o.preventDefault():a.previousKeyMatched=!1}P&&P(o)},x=Q(m,s);let u=-1;i.Children.forEach(p,(o,r)=>{if(!i.isValidElement(o)){u===r&&(u+=1,u>=p.length&&(u=-1));return}o.props.disabled||(C==="selectedMenu"&&o.props.selected||u===-1)&&(u=r),u===r&&(o.props.disabled||o.props.muiSkipListHighlight||o.type.muiSkipListHighlight)&&(u+=1,u>=p.length&&(u=-1))});const w=i.Children.map(p,(o,r)=>{if(r===u){const c={};return g&&(c.autoFocus=!0),o.props.tabIndex===void 0&&C==="selectedMenu"&&(c.tabIndex=0),i.cloneElement(o,c)}return o});return _.jsx(X,F({role:"menu",ref:x,className:l,onKeyDown:R,tabIndex:n?0:-1},I,{children:w}))}),pe=ce;function fe(t){return Y("MuiMenu",t)}Z("MuiMenu",["root","paper","list"]);const de=["onEntering"],me=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],he={vertical:"top",horizontal:"right"},ge={vertical:"top",horizontal:"left"},be=t=>{const{classes:e}=t;return ae({root:["root"],paper:["paper"],list:["list"]},fe,e)},ye=j(ee,{shouldForwardProp:t=>te(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Me=j(se,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Pe=j(pe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Ce=i.forwardRef(function(e,s){var f,n;const g=oe({props:e,name:"MuiMenu"}),{autoFocus:p=!0,children:l,className:d,disableAutoFocusItem:b=!1,MenuListProps:P={},onClose:C,open:I,PaperProps:m={},PopoverClasses:L,transitionDuration:R="auto",TransitionProps:{onEntering:x}={},variant:u="selectedMenu",slots:w={},slotProps:o={}}=g,r=N(g.TransitionProps,de),c=N(g,me),h=ne(),a=h.direction==="rtl",M=F({},g,{autoFocus:p,disableAutoFocusItem:b,MenuListProps:P,onEntering:x,PaperProps:m,transitionDuration:R,TransitionProps:r,variant:u}),v=be(M),T=p&&!b&&I,k=i.useRef(null),z=(y,E)=>{k.current&&k.current.adjustStyleForScrollbar(y,h),x&&x(y,E)},V=y=>{y.key==="Tab"&&(y.preventDefault(),C&&C(y,"tabKeyDown"))};let D=-1;i.Children.map(l,(y,E)=>{i.isValidElement(y)&&(y.props.disabled||(u==="selectedMenu"&&y.props.selected||D===-1)&&(D=E))});const O=(f=w.paper)!=null?f:Me,W=(n=o.paper)!=null?n:m,G=A({elementType:w.root,externalSlotProps:o.root,ownerState:M,className:[v.root,d]}),q=A({elementType:O,externalSlotProps:W,ownerState:M,className:v.paper});return _.jsx(ye,F({onClose:C,anchorOrigin:{vertical:"bottom",horizontal:a?"right":"left"},transformOrigin:a?he:ge,slots:{paper:O,root:w.root},slotProps:{root:G,paper:q},open:I,ref:s,transitionDuration:R,TransitionProps:F({onEntering:z},r),ownerState:M},c,{classes:L,children:_.jsx(Pe,F({onKeyDown:V,actions:k,autoFocus:p&&(D===-1||b),autoFocusItem:T,variant:u},P,{className:re(v.list,P.className),children:l}))}))}),Fe=Ce;export{le as F,Fe as M,xe as a,pe as b,we as f,Se as u};
