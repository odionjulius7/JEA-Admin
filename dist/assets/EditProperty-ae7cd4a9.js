import{l as w,m as x,a4 as F,i as T,b2 as N,n as u,j as a,S as l,M as t,B as C,r as c,ay as y,Q as I,T as S,Z as E,f as L}from"./index-d14368b9.js";import"./object-c5e16c01.js";import{u as B,L as k}from"./formik.esm-987cff98.js";import{T as A}from"./TextArea-c181818b.js";/* empty css                   */import{u as R}from"./use-router-323b0d2e.js";import{T as o,F as O,I as U}from"./TextField-e8821679.js";import{S as W}from"./Select-98f54594.js";import{C as G}from"./CircularProgress-4f04eb9b.js";import{C as M}from"./Container-b3d9ce9a.js";import{G as Y}from"./Grid-98f9fb9e.js";import{C as z}from"./Card-a564b324.js";import"./identity-36fa5d56.js";import"./compact-item-f64ad55b.js";import"./useToken-99fd092c.js";import"./Menu-7dac6899.js";import"./isMuiElement-f40431e3.js";function he(){var f,_;const h=w(),d=x(i=>i),s=x(i=>i.property),m=R(),{id:r}=F(),e=(f=s==null?void 0:s.property)==null?void 0:f.property,g=(_=d==null?void 0:d.auth.user)==null?void 0:_.token,v=T(),n=B({initialValues:{title:(e==null?void 0:e.title)||"",price:(e==null?void 0:e.price)||0,number_of_room:(e==null?void 0:e.number_of_room)||"",location:(e==null?void 0:e.location)||"",description:(e==null?void 0:e.description)||"",category:(e==null?void 0:e.category)||"",tag:(e==null?void 0:e.tag)||"",agent_whatsapp:(e==null?void 0:e.agent_whatsapp)||"",agent_call:(e==null?void 0:e.agent_call)||"",address:(e==null?void 0:e.address)||"",additional_fees:(e==null?void 0:e.additional_fees)||"",property_id:(e==null?void 0:e.property_id)||"",property_type:(e==null?void 0:e.property_type)||"",year_built:(e==null?void 0:e.year_built)||"",details_category:(e==null?void 0:e.details_category)||"",status:(e==null?void 0:e.status)||"",Number_of_Stories:(e==null?void 0:e.Number_of_Stories)||"",garage_capacity:(e==null?void 0:e.garage_capacity)||"",recent_renovations:(e==null?void 0:e.recent_renovations)||"",youtube_url:(e==null?void 0:e.youtube_url)||"",neighborhood_info1:(e==null?void 0:e.neighborhood_info1)||"",neighborhood_info2:(e==null?void 0:e.neighborhood_info2)||"",neighborhood_info3:(e==null?void 0:e.neighborhood_info3)||"",neighborhood_info4:(e==null?void 0:e.neighborhood_info4)||"",neighborhood_info5:(e==null?void 0:e.neighborhood_info5)||"",neighborhood_info6:(e==null?void 0:e.neighborhood_info6)||"",feature_1:(e==null?void 0:e.feature_1)||"",feature_2:(e==null?void 0:e.feature_2)||"",feature_3:(e==null?void 0:e.feature_3)||"",feature_4:(e==null?void 0:e.feature_4)||"",feature_5:(e==null?void 0:e.feature_5)||"",feature_6:(e==null?void 0:e.feature_6)||"",feature_7:(e==null?void 0:e.feature_7)||"",feature_8:(e==null?void 0:e.feature_8)||""},onSubmit:async(i,{setSubmitting:P})=>{try{await h(N({id:r,data:i,token:g})),n.resetForm(),h(u())}catch(b){n.resetForm(),setTimeout(()=>{h(u())},300),console.error("Error submitting form:",b)}finally{P(!1)}}}),j=a.jsx("form",{onSubmit:n.handleSubmit,children:a.jsxs(l,{spacing:4,children:[a.jsx(o,{label:"Property Title",name:"title",value:n.values.title,onChange:n.handleChange}),a.jsx(o,{label:"Property Location",name:"location",value:n.values.location,onChange:n.handleChange}),a.jsx(o,{label:"Agent Call Num.",name:"agent_call",value:n.values.agent_call,onChange:n.handleChange}),a.jsx(o,{label:"Agent Whatsapp Num.",name:"agent_whatsapp",value:n.values.agent_whatsapp,onChange:n.handleChange}),a.jsx(o,{label:"Number Of Room",name:"number_of_room",value:n.values.number_of_room,onChange:n.handleChange}),a.jsxs(O,{fullWidth:!0,children:[a.jsx(U,{id:"category-label",children:"Property Category"}),a.jsxs(W,{labelId:"category-label",id:"category",name:"category",value:n.values.category,onChange:n.handleChange,label:"Property Category",children:[a.jsx(t,{value:"buy",children:"Buy"}),a.jsx(t,{value:"rent",children:"Rent"}),a.jsx(t,{value:"land",children:"Land"}),a.jsx(t,{value:"short let",children:"Short Let"})]})]}),a.jsx(o,{label:"Property Price",name:"price",onChange:n.handleChange,value:n.price}),a.jsx(A,{rows:4,placeholder:"Property Description",maxLength:800,name:"description",value:n.values.description,onChange:n.handleChange}),a.jsxs("div",{style:{margin:"2rem"},children:[a.jsx("h4",{style:{marginBottom:"1rem"},children:"Property Details:"}),a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between",marginTop:"1rem"},children:[a.jsx(o,{label:"Address",name:"address",value:n.values.address,onChange:n.handleChange}),a.jsx(o,{label:"Additional Fees",name:"additional_fees",value:n.values.additional_fees,onChange:n.handleChange})]}),a.jsx(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between",marginTop:"1rem"},children:a.jsx(o,{label:"Property Id",name:"property_id",value:n.values.property_id,onChange:n.handleChange})}),a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between",marginTop:"1rem"},children:[a.jsx(o,{label:"Property Type",name:"property_type",value:n.values.property_type,onChange:n.handleChange}),a.jsx(o,{label:"Year Built",name:"year_built",value:n.values.year_built,onChange:n.handleChange}),a.jsx(o,{label:"Detail Category",name:"details_category",value:n.values.details_category,onChange:n.handleChange})]}),a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between",marginTop:"1rem"},children:[a.jsx(o,{label:"Status",name:"status",value:n.values.status,onChange:n.handleChange}),a.jsx(o,{label:"Number of Stories",name:"Number_of_Stories",value:n.values.Number_of_Stories,onChange:n.handleChange}),a.jsx(o,{label:"Garage Capacity",name:"garage_capacity",value:n.values.garage_capacity,onChange:n.handleChange})]}),a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between",marginTop:"1rem"},children:[a.jsx(o,{label:"Recent Renovations",name:"recent_renovations",value:n.values.recent_renovations,onChange:n.handleChange}),a.jsx(o,{label:"Youtube URL",name:"youtube_url",value:n.values.youtube_url,onChange:n.handleChange})]})]}),a.jsxs("div",{style:{margin:"2rem"},children:[a.jsx("h4",{style:{marginBottom:"1rem"},children:"Amenities & Features:"}),a.jsxs("div",{children:[a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between"},children:[a.jsx(o,{label:"Feature 1",name:"feature_1",value:n.values.feature_1,onChange:n.handleChange}),a.jsx(o,{label:"Feature 2",name:"feature_2",value:n.values.feature_2,onChange:n.handleChange})]}),a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between"},children:[a.jsx(o,{label:"Feature 3",name:"feature_3",value:n.values.feature_3,onChange:n.handleChange}),a.jsx(o,{label:"Feature 4",name:"feature_4",value:n.values.feature_4,onChange:n.handleChange})]}),a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between"},children:[" ",a.jsx(o,{label:"Feature 5",name:"feature_5",value:n.values.feature_5,onChange:n.handleChange}),a.jsx(o,{label:"Feature 6",name:"feature_6",value:n.values.feature_6,onChange:n.handleChange})]}),a.jsxs(l,{spacing:2,sx:{flexDirection:"column",justifyContent:"space-between",marginTop:"1rem"},children:[a.jsx(o,{label:"Feature 7",name:"feature_7",value:n.values.feature_7,onChange:n.handleChange}),a.jsx(o,{label:"Feature 8",name:"feature_8",value:n.values.feature_8,onChange:n.handleChange})]})]})]}),a.jsxs("div",{style:{margin:"2rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[a.jsx("h4",{style:{marginBottom:"1rem"},children:"Neighborhood Information:"}),a.jsx(o,{label:"Neighborhood Info. ",name:"neighborhood_info1",value:n.values.neighborhood_info1,onChange:n.handleChange}),a.jsx(o,{label:"Other Neighborhood Info.",name:"neighborhood_info2",value:n.values.neighborhood_info2,onChange:n.handleChange}),a.jsx(o,{label:"Other Neighborhood Info.",name:"neighborhood_info3",value:n.values.neighborhood_info3,onChange:n.handleChange}),a.jsx(o,{label:"Other Neighborhood Info.",name:"neighborhood_info4",value:n.values.neighborhood_info4,onChange:n.handleChange}),a.jsx(o,{label:"Other Neighborhood Info.",name:"neighborhood_info5",value:n.values.neighborhood_info5,onChange:n.handleChange}),a.jsx(o,{label:"Other Neighborhood Info.",name:"neighborhood_info6",value:n.values.neighborhood_info6,onChange:n.handleChange})]}),a.jsx(k,{sx:{marginTop:"25px"},fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:s!=null&&s.isLoading?a.jsx(C,{sx:{display:"flex"},children:a.jsx(G,{})}):"Edit"})]})});return c.useEffect(()=>{const i={id:r,token:g};h(u()),h(y(i))},[h,g,r]),c.useEffect(()=>{h(u())},[h]),c.useEffect(()=>{s!=null&&s.isSuccessUpdate&&(I.success("Property Updated Successfullly!"),m.push(`/property/${r}`))},[s==null?void 0:s.isSuccessUpdate,m,r]),a.jsxs(M,{maxWidth:"xl",children:[a.jsx(S,{variant:"h4",sx:{mb:5},children:"Property Edit Page"}),a.jsx(Y,{container:!0,spacing:3,children:a.jsx(C,{sx:{...E({color:L(v.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1,width:"100%",padding:"50px"},children:a.jsx(l,{alignItems:"center",justifyContent:"center",sx:{height:1},children:a.jsx(z,{sx:{p:5,width:1,maxWidth:820},children:j})})})})]})}export{he as default};
