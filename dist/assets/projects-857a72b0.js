import{l as y,m as v,n as m,r as h,o as P,t as j,j as t,I as C,S,T as N,L as b,W as F}from"./index-8636f483.js";import{h as T}from"./moment-204d1fe1.js";import{O as k}from"./Select-3ce082fe.js";import{I}from"./InputAdornment-700f4c52.js";import{B as L}from"./Button-dbf77ae0.js";import{D}from"./DataGrid-b75bda35.js";import{C as A}from"./Container-622243ca.js";import{G}from"./Grid-16fda4bc.js";import"./Menu-27a65cd6.js";import"./useId-1fa37875.js";import"./FormControlLabel-b12ffa51.js";import"./TextField-8bff27a5.js";import"./isMuiElement-4cb044d1.js";import"./CircularProgress-003504d8.js";const E=[{field:"title",headerName:"Title",width:150,renderCell:r=>t.jsx("a",{href:`/project/${r.row.id}`,children:r.value})},{field:"location",headerName:"Loction",width:160},{field:"amount",headerName:"Property Value",width:160},{field:"category",headerName:"Property Category",width:180},{field:"created",headerName:"Date",width:160},{field:"status",headerName:"Status",width:140,renderCell:r=>t.jsx(L,{variant:"text",color:r.value==="sold"&&"error"||"success",style:{padding:"0 1rem"},children:r.value})}];function R(){var d,l,c;const r=y(),u=v(),s=m(e=>e.property),o=m(e=>e),x=(l=(d=o==null?void 0:o.auth.user)==null?void 0:d.data)==null?void 0:l.token,f=((c=s==null?void 0:s.projects)==null?void 0:c.allProject)||[],[n,g]=h.useState(""),p=f.filter(e=>{const i=e.title.toLowerCase().trim(),a=n.toLowerCase().trim();return a===""?!0:i.includes(a)}).map((e,i)=>{const a={id:(e==null?void 0:e._id)||0,title:e.title,location:e.location,category:e.category,amount:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e==null?void 0:e.price),created:T(e==null?void 0:e.createdAt).format("L"),status:e==null?void 0:e.category};return a.index=i,a}).reverse(),w=e=>{g(e.target.value)};return h.useEffect(()=>{r(P()),r(j())},[r,x]),t.jsxs("div",{style:{minHeight:200,backgroundColor:"#FFFFFF",borderRadius:"20px",width:"100%",padding:"1rem 0 0 1rem",boxShadow:"0 0 2px 0 rgba(145, 158, 171, 0.08), 0 12px 24px -4px rgba(145, 158, 171, 0.08)"},children:[t.jsx("div",{children:t.jsx(k,{value:n,onChange:w,placeholder:"Search Projects...",startAdornment:t.jsx(I,{position:"start",children:t.jsx(C,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})})}),t.jsx(D,{style:{padding:"1rem"},rows:p,columns:E,initialState:{pagination:{paginationModel:{page:0,pageSize:15}}},pageSizeOptions:[5,10,20],onRowClick:(e,i)=>{u(`/project/${e.id}`)}})]})}function O(){return t.jsxs(A,{children:[t.jsxs(S,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[t.jsx(N,{variant:"h4",children:"All Projects"}),t.jsx(b,{to:"/post-featured-proj"})]}),t.jsx(G,{sx:{padding:"0 1rem"},children:t.jsx(R,{})})]})}function Z(){return t.jsxs(t.Fragment,{children:[t.jsx(F,{children:t.jsx("title",{children:" JEA | Projects "})}),t.jsx(O,{})]})}export{Z as default};
