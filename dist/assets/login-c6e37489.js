import{l as j,n as w,i as y,r as l,aj as v,j as e,S as t,A as C,I as S,B as d,R as b,f as k,$ as B,T as E,W as I}from"./index-a7172a34.js";import{u as L}from"./use-router-39bbff4a.js";import{c as P,a as m}from"./object-b83ac8c8.js";import{u as T,L as A}from"./formik.esm-c2c8fe8c.js";import{T as c}from"./TextField-7a813393.js";import{I as F}from"./InputAdornment-92c50659.js";import{C as R}from"./CircularProgress-b20656ae.js";import{C as q}from"./Card-da7c21cf.js";import"./identity-47e56946.js";import"./Button-6a300f6d.js";import"./useId-4aefd2c5.js";import"./Select-36597a66.js";import"./Menu-11169359.js";import"./isMuiElement-ee1a0ecd.js";const z=P().shape({email:m().email("Email should be valid").required("Email is Required"),password:m().required("Password is Required")});function W(){const p=j(),h=w(i=>i),{user:r,isLoading:u}=h.auth,n=r==null?void 0:r.token,x=y(),a=L(),[o,g]=l.useState(!1),s=T({initialValues:{email:"",password:""},validationSchema:z,onSubmit:i=>{p(v(i))}}),f=e.jsxs(e.Fragment,{children:[e.jsxs(t,{spacing:3,children:[e.jsx(c,{value:s.values.email,onChange:s.handleChange("email"),onBlur:s.handleBlur("email"),label:"Email address"}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.email&&s.errors.email}),e.jsx(c,{name:"password",label:"Password",value:s.values.password,onChange:s.handleChange("password"),onBlur:s.handleBlur("password"),type:o?"text":"password",InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(C,{onClick:()=>g(!o),edge:"end",children:e.jsx(S,{icon:o?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:s.touched.password&&s.errors.password})]}),e.jsx(t,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3}}),e.jsx(A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:s.handleSubmit,children:u?e.jsx(d,{sx:{display:"flex"},children:e.jsx(R,{})}):"Login"})]});return l.useEffect(()=>{n?a.push("/"):a.push("/login")},[n,a]),e.jsxs(d,{sx:{...b({color:k(x.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(B,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(t,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(q,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(E,{sx:{margin:"0 0 2rem 0",textAlign:"center"},variant:"h4",children:"JEA"}),f]})})]})}function Y(){return e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsx("title",{children:" JEA | LOgin "})}),e.jsx(W,{})]})}export{Y as default};
