import{l as v,m as f,a4 as C,r as n,i as T,j as s,S as h,B as j,n as c,aS as k,Q as P,T as S,Z as w,f as E,b3 as L}from"./index-d14368b9.js";import{u as U,L as B}from"./formik.esm-987cff98.js";/* empty css                   */import{u as R}from"./use-router-323b0d2e.js";import{C as D}from"./CircularProgress-4f04eb9b.js";import{C as G}from"./Container-b3d9ce9a.js";import{G as I}from"./Grid-98f9fb9e.js";import{C as N}from"./Card-a564b324.js";function $(){var g;const a=v(),l=f(t=>t),e=f(t=>t.property),p=R(),{id:r}=C(),[i,x]=n.useState(""),d=U({initialValues:{title:""},onSubmit:async(t,{setSubmitting:u})=>{try{const o=new FormData;i&&o.append("logo",i),await a(L({id:r,formData:o,token:m})),d.resetForm(),x(""),a(c())}catch(o){d.resetForm(),setTimeout(()=>{a(c())},300),console.error("Error submitting form:",o)}finally{u(!1)}}}),b=t=>{const u=t.target.files[0];x(u)},m=(g=l==null?void 0:l.auth.user)==null?void 0:g.token,F=T(),y=s.jsxs("form",{onSubmit:d.handleSubmit,children:[s.jsx(h,{children:s.jsxs("div",{className:"upload-wrap",style:{margin:"2rem"},children:[s.jsxs("label",{htmlFor:"inputTag",className:"upload-label",children:[s.jsx("img",{src:"/assets/icons/shape-avatar.svg",alt:""}),s.jsx("span",{children:"Upload Logo"}),s.jsx("input",{name:"image",id:"inputTag",type:"file",className:"upload-input",onChange:b})]}),s.jsx("span",{children:"Max file size 2MB."})]})}),s.jsx("div",{style:{width:"300px",height:"auto",margin:"2rem"},children:i&&s.jsx("img",{src:URL.createObjectURL(i),alt:"Selected"})}),s.jsx(h,{spacing:4,children:s.jsx(B,{sx:{marginTop:"25px"},fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:e!=null&&e.isLoading?s.jsx(j,{sx:{display:"flex"},children:s.jsx(D,{})}):"Update"})})]});return n.useEffect(()=>{const t={id:r,token:m};a(c()),a(k(t))},[a,m,r]),n.useEffect(()=>{a(c())},[a]),n.useEffect(()=>{e!=null&&e.isSuccessFeat&&(P.success("Project featured Successfullly!"),p.push(`/project/${r}`))},[e==null?void 0:e.isSuccessFeat,r,p]),s.jsxs(G,{maxWidth:"xl",children:[s.jsx(S,{variant:"h4",sx:{mb:5},children:"Feature This Project"}),s.jsx(I,{container:!0,spacing:3,children:s.jsx(j,{sx:{...w({color:E(F.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1,width:"100%",padding:"50px"},children:s.jsx(h,{alignItems:"center",justifyContent:"center",sx:{height:1},children:s.jsx(N,{sx:{p:5,width:1,maxWidth:820},children:y})})})})]})}export{$ as default};
