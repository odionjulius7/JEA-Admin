import{l as f,n as u,r as c,b5 as y,o as d,Q as F,j as e,W as b,B as x,S as m}from"./index-0dd70598.js";import"./ckeditor-c7839ae3.js";import{c as C,a as L}from"./object-d854a147.js";import{u as N,L as v}from"./formik.esm-7cfa46b8.js";/* empty css                   */import{C as T}from"./Container-0faa007b.js";import{G as k}from"./Grid-a7804d96.js";import{C as w}from"./Card-dacd3be8.js";import{T as E}from"./TextField-1b0c2d47.js";import{C as I}from"./CircularProgress-7cb8b0e5.js";import"./identity-78f374a4.js";import"./Button-0f325c3c.js";import"./useId-b238010a.js";import"./Select-f19bafc7.js";import"./Menu-a85b6bfb.js";import"./isMuiElement-9d7d9d27.js";const B=C().shape({title:L().required("Title is required")});function K(){var h;const i=f(),n=u(r=>r),s=u(r=>r.property),g=(h=n==null?void 0:n.auth.user)==null?void 0:h.token,[a,p]=c.useState(""),t=N({initialValues:{title:""},validationSchema:B,onSubmit:async(r,{setSubmitting:l})=>{try{const o=new FormData;o.append("title",r.title),a&&o.append("f-image",a),await i(y({formData:o,token:g})),t.resetForm(),p(""),i(d())}catch(o){t.resetForm(),setTimeout(()=>{i(d())},300),console.error("Error submitting form:",o)}finally{l(!1)}}}),j=r=>{const l=r.target.files[0];p(l)};return c.useEffect(()=>{i(d())},[i]),c.useEffect(()=>{s!=null&&s.isSuccess&&(s!=null&&s.postedFeatNLogo)&&F.success("property posted Successfullly!")},[s==null?void 0:s.isSuccess,s==null?void 0:s.postedFeatNLogo]),e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx("title",{children:"JEA | Features N Icons "})}),e.jsx(T,{maxWidth:"xl",children:e.jsxs(k,{container:!0,spacing:3,children:[e.jsx("h2",{style:{padding:"3rem 2rem"},children:"Post Features And Icons"}),e.jsx(x,{sx:{height:1,width:"100%",padding:"30px"},children:e.jsx("form",{onSubmit:t.handleSubmit,children:e.jsx(m,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsx(w,{sx:{p:5,width:1,maxWidth:620},children:e.jsxs(m,{spacing:3,children:[e.jsx(E,{label:"Name",name:"title",value:t.values.title,onChange:t.handleChange,error:t.touched.title&&!!t.errors.title,helperText:t.touched.title&&t.errors.title}),e.jsx(m,{children:e.jsxs("div",{className:"upload-wrap",children:[e.jsxs("label",{htmlFor:"inputTag",className:"upload-label",children:[e.jsx("img",{src:"/assets/icons/shape-avatar.svg",alt:""}),e.jsx("span",{children:"Upload Logo"}),e.jsx("input",{name:"image",id:"inputTag",type:"file",className:"upload-input",onChange:j})]}),e.jsx("span",{children:"Max file size 2MB."})]})}),e.jsx("div",{style:{width:"100px",height:"100px",background:"grey",display:"flex",justifyContent:"center",alignItems:"center"},children:a&&e.jsx("img",{src:URL.createObjectURL(a),alt:"Selected"})}),e.jsx(v,{sx:{marginTop:"25px"},fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:s!=null&&s.isLoading?e.jsx(x,{sx:{display:"flex"},children:e.jsx(I,{})}):"Post"})]})})})})})]})})]})}export{K as default};
