import{l as y,m as v,n as h,r as m,o as P,v as j,j as t,I as S,t as C,y as N,S as b,T as F,F as T,G as k,W as I}from"./index-ef06bb94.js";import{h as D}from"./moment-45617de1.js";import{O as L}from"./Select-28047b4e.js";import{I as A}from"./InputAdornment-5002c108.js";import{D as G}from"./DataGrid-2d1cce55.js";import"./Menu-32b2f8ca.js";import"./FormControlLabel-5851c121.js";import"./TextField-f4746776.js";import"./isMuiElement-7cfb1190.js";const E=[{field:"title",headerName:"Title",width:150,renderCell:r=>t.jsx("a",{href:`/project/${r.row.id}`,children:r.value})},{field:"location",headerName:"Loction",width:160},{field:"amount",headerName:"Property Value",width:160},{field:"category",headerName:"Property Category",width:180},{field:"created",headerName:"Date",width:160},{field:"status",headerName:"Status",width:140,renderCell:r=>t.jsx(C,{variant:"text",color:r.value==="sold"&&"error"||"success",style:{padding:"0 1rem"},children:r.value})}];function R(){var d,l,c;const r=y(),u=v(),i=h(e=>e.property),n=h(e=>e),x=(l=(d=n==null?void 0:n.auth.user)==null?void 0:d.data)==null?void 0:l.token,g=((c=i==null?void 0:i.projects)==null?void 0:c.allProject)||[],[o,f]=m.useState(""),p=g.filter(e=>{const s=e.title.toLowerCase().trim(),a=o.toLowerCase().trim();return a===""?!0:s.includes(a)}).map((e,s)=>{const a={id:(e==null?void 0:e._id)||0,title:e.title,location:e.location,category:e.category,amount:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e==null?void 0:e.price),created:D(e==null?void 0:e.createdAt).format("L"),status:e==null?void 0:e.category};return a.index=s,a}).reverse(),w=e=>{f(e.target.value)};return m.useEffect(()=>{r(P()),r(j())},[r,x]),t.jsxs("div",{style:{minHeight:200,backgroundColor:"#FFFFFF",borderRadius:"20px",width:"100%",padding:"1rem 0 0 1rem",boxShadow:"0 0 2px 0 rgba(145, 158, 171, 0.08), 0 12px 24px -4px rgba(145, 158, 171, 0.08)"},children:[t.jsx("div",{children:t.jsx(L,{value:o,onChange:w,placeholder:"Search Projects...",startAdornment:t.jsx(A,{position:"start",children:t.jsx(S,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})})}),t.jsx(G,{style:{padding:"1rem"},rows:p,columns:E,initialState:{pagination:{paginationModel:{page:0,pageSize:15}}},pageSizeOptions:[5,10,20],onRowClick:(e,s)=>{u(`/project/${e.id}`)}})]})}function O(){return t.jsxs(N,{children:[t.jsxs(b,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[t.jsx(F,{variant:"h4",children:"All Projects"}),t.jsx(T,{to:"/post-featured-proj"})]}),t.jsx(k,{sx:{padding:"0 1rem"},children:t.jsx(R,{})})]})}function q(){return t.jsxs(t.Fragment,{children:[t.jsx(I,{children:t.jsx("title",{children:" JEA | Projects "})}),t.jsx(O,{})]})}export{q as default};
