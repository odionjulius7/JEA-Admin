import{g as ie,a as oe,s as X,_ as l,r as u,u as de,b as q,a7 as O,j as e,c as B,d as ce,f as U,a8 as ge,a9 as be,aa as ye,ab as ae,V as je,ac as ve,ad as b,T as n,ae as y,af as N,P as x,m as W,q as Q,l as Le,a4 as Ne,Q as re,B as ne,S as P,ag as Ce,ah as Ie,W as we}from"./index-d14368b9.js";import"./account-view-e02010a4.js";import{A as J}from"./app-widget-summary-5cc0467b.js";import{h as V}from"./moment-5381583a.js";import{i as Ae}from"./isMuiElement-f40431e3.js";import{D as le}from"./DataGrid-494ad8de.js";import{C as De}from"./Container-b3d9ce9a.js";import{T as Re,a as Pe,b as K,c as Y}from"./TabPanel-a2e11030.js";import{G as C}from"./Grid-98f9fb9e.js";import{C as Se}from"./Card-a564b324.js";import"./object-c5e16c01.js";import"./identity-36fa5d56.js";import"./formik.esm-987cff98.js";import"./CircularProgress-4f04eb9b.js";import"./TextField-e8821679.js";import"./Select-98f54594.js";import"./Menu-7dac6899.js";import"./InputAdornment-33e2c6bd.js";import"./format-number-670df071.js";import"./Autocomplete-45e0406b.js";import"./FormControlLabel-d8c9ddcf.js";function Fe(s){return oe("MuiListItem",s)}const _e=ie("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),I=_e;function ke(s){return oe("MuiListItemSecondaryAction",s)}ie("MuiListItemSecondaryAction",["root","disableGutters"]);const $e=["className"],Te=s=>{const{disableGutters:t,classes:r}=s;return ce({root:["root",t&&"disableGutters"]},ke,r)},Ge=X("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:r}=s;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:s})=>l({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},s.disableGutters&&{right:0})),pe=u.forwardRef(function(t,r){const i=de({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=i,d=q(i,$e),a=u.useContext(O),c=l({},i,{disableGutters:a.disableGutters}),p=Te(c);return e.jsx(Ge,l({className:B(p.root,o),ownerState:c,ref:r},d))});pe.muiName="ListItemSecondaryAction";const Me=pe,Ue=["className"],Oe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Be=(s,t)=>{const{ownerState:r}=s;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},We=s=>{const{alignItems:t,button:r,classes:i,dense:o,disabled:d,disableGutters:a,disablePadding:c,divider:p,hasSecondaryAction:h,selected:w}=s;return ce({root:["root",o&&"dense",!a&&"gutters",!c&&"padding",p&&"divider",d&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",h&&"secondaryAction",w&&"selected"],container:["container"]},Fe,i)},Ve=X("div",{name:"MuiListItem",slot:"Root",overridesResolver:Be})(({theme:s,ownerState:t})=>l({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&l({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${ge.root}`]:{paddingRight:48}},{[`&.${I.focusVisible}`]:{backgroundColor:(s.vars||s).palette.action.focus},[`&.${I.selected}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:U(s.palette.primary.main,s.palette.action.selectedOpacity),[`&.${I.focusVisible}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.focusOpacity}))`:U(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.focusOpacity)}},[`&.${I.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(s.vars||s).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:s.transitions.create("background-color",{duration:s.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${I.selected}:hover`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.hoverOpacity}))`:U(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:U(s.palette.primary.main,s.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Ee=X("li",{name:"MuiListItem",slot:"Container",overridesResolver:(s,t)=>t.container})({position:"relative"}),ze=u.forwardRef(function(t,r){const i=de({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:d=!1,button:a=!1,children:c,className:p,component:h,components:w={},componentsProps:S={},ContainerComponent:F="li",ContainerProps:{className:_}={},dense:A=!1,disabled:D=!1,disableGutters:v=!1,disablePadding:k=!1,divider:$=!1,focusVisibleClassName:T,secondaryAction:m,selected:E=!1,slotProps:ue={},slots:xe={}}=i,he=q(i.ContainerProps,Ue),fe=q(i,Oe),Z=u.useContext(O),z=u.useMemo(()=>({dense:A||Z.dense||!1,alignItems:o,disableGutters:v}),[o,Z.dense,A,v]),H=u.useRef(null);be(()=>{d&&H.current&&H.current.focus()},[d]);const L=u.Children.toArray(c),ee=L.length&&Ae(L[L.length-1],["ListItemSecondaryAction"]),G=l({},i,{alignItems:o,autoFocus:d,button:a,dense:z.dense,disabled:D,disableGutters:v,disablePadding:k,divider:$,hasSecondaryAction:ee,selected:E}),se=We(G),te=ye(H,r),M=xe.root||w.Root||Ve,R=ue.root||S.root||{},f=l({className:B(se.root,R.className,p),disabled:D},fe);let g=h||"li";return a&&(f.component=h||"div",f.focusVisibleClassName=B(I.focusVisible,T),g=je),ee?(g=!f.component&&!h?"div":g,F==="li"&&(g==="li"?g="div":f.component==="li"&&(f.component="div")),e.jsx(O.Provider,{value:z,children:e.jsxs(Ee,l({as:F,className:B(se.container,_),ref:te,ownerState:G},he,{children:[e.jsx(M,l({},R,!ae(M)&&{as:g,ownerState:l({},G,R.ownerState)},f,{children:L})),L.pop()]}))})):e.jsx(O.Provider,{value:z,children:e.jsxs(M,l({},R,{as:g,ref:te},!ae(M)&&{ownerState:l({},G,R.ownerState)},f,{children:[L,m&&e.jsx(Me,{children:m})]}))})}),j=ze;function me({item:s}){return e.jsxs(ve,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[e.jsxs(j,{alignItems:"center",gap:13,children:[e.jsx(b,{children:e.jsx(n,{children:"First Name :"})}),e.jsx(y,{secondary:e.jsx(n,{sx:{display:"inline",marginLeft:"2rem"},component:"span",variant:"body",color:"text.primary",children:s==null?void 0:s.first_name})})]}),e.jsx(N,{variant:"fullWidth",component:"li"}),e.jsxs(j,{alignItems:"center",gap:13,children:[e.jsx(b,{children:e.jsx(n,{children:"Last Name :"})}),e.jsx(y,{secondary:e.jsx(n,{sx:{display:"inline",marginLeft:"2rem"},component:"span",variant:"body",color:"text.primary",children:s==null?void 0:s.last_name})})]}),e.jsx(N,{variant:"fullWidth",component:"li"}),e.jsxs(j,{alignItems:"center",gap:13,children:[e.jsx(b,{children:e.jsx(n,{children:"Phone Number :"})}),e.jsx(y,{secondary:e.jsx(n,{sx:{display:"inline",marginLeft:"2rem"},component:"span",variant:"body",color:"text.primary",children:s==null?void 0:s.phone})})]}),e.jsx(N,{variant:"fullWidth",component:"li"}),e.jsxs(j,{alignItems:"center",gap:13,children:[e.jsx(b,{children:e.jsx(n,{children:"Email :"})}),e.jsx(y,{secondary:e.jsx(n,{sx:{display:"inline",marginLeft:"2rem"},component:"span",variant:"body",color:"text.primary",children:s==null?void 0:s.email})})]}),e.jsx(N,{variant:"fullWidth",component:"li"}),e.jsxs(j,{alignItems:"center",gap:13,children:[e.jsx(b,{children:e.jsx(n,{children:"Status :"})}),e.jsx(y,{secondary:e.jsx(n,{sx:{display:"inline",marginLeft:"2rem"},component:"span",variant:"body",color:"text.primary",children:s!=null&&s.kyc_verification_status?"verified":"Unverified"})})]}),e.jsx(N,{variant:"fullWidth",component:"li"}),e.jsxs(j,{alignItems:"center",gap:13,children:[e.jsx(b,{children:e.jsx(n,{children:"Date Registered :"})}),e.jsx(y,{secondary:e.jsx(n,{sx:{display:"inline",marginLeft:"2rem"},component:"span",variant:"body",color:"text.primary",children:V(s==null?void 0:s.createdAt).format("L")})})]}),e.jsx(N,{variant:"fullWidth",component:"li"}),e.jsxs(j,{alignItems:"center",gap:13,children:[e.jsx(b,{children:e.jsx(n,{children:"Date Verified :"})}),e.jsx(y,{secondary:e.jsx(n,{sx:{display:"inline",marginLeft:"2rem"},component:"span",variant:"body",color:"text.primary",children:V(s==null?void 0:s.verification_date).format("L")})})]})]})}me.propTypes={item:x.shape({createdAt:x.any,email:x.any,kyc_verification_status:x.any,phone:x.any,last_name:x.any,first_name:x.any,verification_date:x.any}).isRequired};const He=[{field:"id",headerName:"S/N",width:70},{field:"lastName",headerName:"Last Name",width:120},{field:"firstName",headerName:"First Name",width:120},{field:"email",headerName:"Email",width:190},{field:"lender_borrower",headerName:"Were you the lender or borrower",width:190},{field:"lender",headerName:"Lender Name",width:150},{field:"lenderId",headerName:"Lender ID",width:90},{field:"borrower",headerName:"Borrower Name",width:150},{field:"borrowerId",headerName:"Borrower ID",width:90},{field:"loanTakenDate",headerName:"Date Loan Was Taken",width:150},{field:"loanAmount",headerName:"Loan Amount",width:100},{field:"loanInterest",headerName:"Loan Interest",width:100},{field:"repaymentSchedule",headerName:"Repayment Schedule",width:150},{field:"wasLoanFullyRepaid",headerName:"Was Loan Fully Repaid",width:90}],Je=[{id:12,lastName:"James",firstName:"Jude",email:"hude@gmail.com",lender_borrower:"either",lender:"Doe",lenderId:"2345",borrower:"Not Doe",borrowerId:"5050",loanTakenDate:"12/23/2023",loanAmount:"39000",loanInterest:"9000",repaymentSchedule:"hgehsfb",wasLoanFullyRepaid:"hgehsfb"}];function Ke(){return e.jsx("div",{style:{minHeight:200,backgroundColor:"#FFFFFF",borderRadius:"20px",boxShadow:"0 0 2px 0 rgba(145, 158, 171, 0.08), 0 12px 24px -4px rgba(145, 158, 171, 0.08)"},children:e.jsx(le,{rows:Je,columns:He,initialState:{pagination:{paginationModel:{page:0,pageSize:15}}},pageSizeOptions:[5,10,20]})})}const Ye=[{field:"id",headerName:"Loan ID",width:90,renderCell:s=>e.jsx("a",{href:`/loan/${s.row.id}`,children:s.value})},{field:"lender",headerName:"Lender",width:130},{field:"borrower",headerName:"Borrower",width:130},{field:"loanAmount",headerName:"Loan Value",width:130},{field:"expectedReturn",headerName:"Expected Return",width:120},{field:"balance",headerName:"Balance",width:120},{field:"initiationDate",headerName:"Initiation Date",width:130},{field:"dueDate",headerName:"Due Date",width:130},{field:"status",headerName:"Status",width:90,renderCell:s=>e.jsx(Q,{variant:"contained",color:s.value==="active"&&"error"||"success",style:{padding:"0 0.6rem"},children:s.value})}];function qe(){var o,d;const s=W(a=>a.loan);console.log((o=s==null?void 0:s.userloansMetricsData)==null?void 0:o.loan_list);const t=((d=s==null?void 0:s.userloansMetricsData)==null?void 0:d.loan_list)||[];function r(a){return a/100}const i=t==null?void 0:t.map((a,c)=>{const p={id:(a==null?void 0:a.id)||0,lender:a==null?void 0:a.lender_first_name,borrower:a==null?void 0:a.borrower_first_name,loanAmount:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(r(a==null?void 0:a.amount)),expectedReturn:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(r(a==null?void 0:a.expected_return)),balance:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format((r(a==null?void 0:a.expected_return)??0)-(r(a==null?void 0:a.amount_paid)??0)),initiationDate:V(a==null?void 0:a.createdAt).format("L"),dueDate:V(a==null?void 0:a.due_date).format("L"),status:a!=null&&a.status?"completed":"active"};return p.index=c,p});return e.jsx("div",{style:{minHeight:200,width:"100%",backgroundColor:"#FFFFFF",borderRadius:"20px",boxShadow:"0 0 2px 0 rgba(145, 158, 171, 0.08), 0 12px 24px -4px rgba(145, 158, 171, 0.08)"},children:e.jsx(le,{rows:i,columns:Ye,initialState:{pagination:{paginationModel:{page:0,pageSize:7}}},pageSizeOptions:[7,15]})})}function Qe(){var A,D,v,k,$,T;const s=Le(),t=W(m=>m.users),r=W(m=>m.loan),i=W(m=>m),o=(D=(A=i==null?void 0:i.auth.user)==null?void 0:A.data)==null?void 0:D.token,{id:d}=Ne(),{isSuccess1:a,isError:c,unsuspendData:p,suspendData:h}=t;u.useEffect(()=>{a&&re.success("successfully suspended user!"),c&&re.error("Something Went Wrong!")},[a,c,h]);const[w,S]=u.useState("1"),F=(m,E)=>{S(E)},_={id:d,token:o};return e.jsx(De,{children:e.jsx(ne,{sx:{width:"100%",typography:"body1"},children:e.jsxs(Re,{value:w,children:[e.jsx(ne,{sx:{border:"1px solid",borderColor:"rgba(145, 158, 171, 0.2)",borderRadius:"5px",background:"#edeff1",margin:"2rem 2rem 0rem 2rem"},children:e.jsxs(Pe,{sx:{".css-heg063-MuiTabs-flexContainer":{justifyContent:"center",gap:"1rem"}},onChange:F,"aria-label":"lab API tabs example",children:[e.jsx(K,{label:"Profile",value:"1",sx:{fontSize:"20px"}}),e.jsx(K,{label:"Loans",value:"2",sx:{fontSize:"20px"}}),e.jsx(K,{label:"User Recorded Loans",value:"3",sx:{fontSize:"20px"}})]})}),e.jsx(Y,{value:"1",children:e.jsxs(C,{sx:{padding:"0 1rem"},children:[e.jsxs(P,{direction:"row",alignItems:"start",mb:5,mt:3,gap:20,children:[e.jsx(me,{item:t==null?void 0:t.user}),e.jsxs(C,{children:[e.jsx(C,{sx:{marginBottom:"1.2rem"},xs:12,sm:6,md:4,children:e.jsx(J,{title:"Volume Of Loans",total:((v=r==null?void 0:r.userloansMetricsData)==null?void 0:v.loans)||.001,color:"success"})}),e.jsx(C,{sx:{marginBottom:"1.2rem"},xs:12,sm:6,md:3,children:e.jsx(J,{title:"Volume Of Loans Borrowed",total:((k=r==null?void 0:r.userloansMetricsData)==null?void 0:k.borrower)||.001,color:"success"})}),e.jsx(C,{xs:12,sm:6,md:3,children:e.jsx(J,{title:"Volume Of Loans Lent",total:(($=r==null?void 0:r.userloansMetricsData)==null?void 0:$.lender)||.001,color:"success"})})]})]}),e.jsxs(C,{sx:{display:"flex",alignItems:"center",marginTop:"4rem"},children:[e.jsxs(P,{sx:{width:"60%"},children:[e.jsxs(P,{sx:{display:"flex",flexDirection:"row"},mt:1,ml:1,gap:1,children:[e.jsx(n,{children:"KYC Type :"}),e.jsx(n,{children:" NIN"})]}),e.jsxs(P,{style:{display:"flex",flexDirection:"row"},mt:1,ml:1,gap:1,mb:1,children:[e.jsx(n,{children:"KYC ID :"}),e.jsx(n,{children:"13235"})]}),e.jsxs(P,{sx:{display:"flex",flexDirection:"row"},ml:1,gap:1,children:[e.jsx(n,{children:"Link :"}),e.jsx(n,{children:"ywfgshshfbhgjsdthgrh"})]})]}),e.jsx(Se,{sx:{background:"#ffffff",padding:"3rem 2rem"},children:(T=t==null?void 0:t.user)!=null&&T.status?e.jsx(Q,{style:{marginLeft:"0.5rem"},variant:"contained",color:"success",onClick:()=>{s(Ce(_))},children:t!=null&&t.isLoading1?"loading...":"Unsuspend User"}):e.jsx(Q,{style:{marginLeft:"0.5rem"},variant:"contained",color:"error",onClick:()=>{s(Ie(_))},children:t!=null&&t.isLoading1?"loading...":"Suspend User"})})]})]})}),e.jsx(Y,{value:"2",children:e.jsx(qe,{})}),e.jsx(Y,{value:"3",children:e.jsx(Ke,{})})]})})})}function ys(){return e.jsxs(e.Fragment,{children:[e.jsx(we,{children:e.jsx("title",{children:"JEA | User Details"})}),e.jsx(Qe,{})]})}export{ys as default};
