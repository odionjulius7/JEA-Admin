import{l as E,n as f,a1 as T,r as t,i as k,j as e,S as x,B as h,o as c,aP as L,Q as j,b4 as v,P as B}from"./index-0dd70598.js";import{u as z,L as g}from"./formik.esm-7cfa46b8.js";/* empty css                   */import{u as C}from"./use-router-d553ca28.js";import{C as p}from"./CircularProgress-7cb8b0e5.js";import"./Button-0f325c3c.js";import"./useId-b238010a.js";function I({oldId:F}){var m;const i=E(),n=f(o=>o),s=f(o=>o.property);console.log(s);const u=C(),{id:r}=T(),[R,P]=t.useState(""),a=z({initialValues:{title:""},onSubmit:async(o,{setSubmitting:b})=>{try{await i(v({id:r,token:l,oldId:F})),a.resetForm(),P(""),i(c())}catch(d){a.resetForm(),setTimeout(()=>{i(c())},300),console.error("Error submitting form:",d)}finally{b(!1)}}}),l=(m=n==null?void 0:n.auth.user)==null?void 0:m.token;return k(),a.handleSubmit,x,g,s!=null&&s.isLoading&&(h,p),t.useEffect(()=>{const o={id:r,token:l};i(c()),i(L(o))},[i,l,r]),t.useEffect(()=>{i(c())},[i]),t.useEffect(()=>{s!=null&&s.isSuccessFeat&&(j.success("Project featured Successfullly!"),u.push(`/project/${r}`)),s!=null&&s.isErrorFeat&&(j.error("failed to featured project!"),u.push(`/project/${r}`))},[s==null?void 0:s.isSuccessFeat,s==null?void 0:s.isErrorFeat,r,u]),e.jsx("form",{onSubmit:a.handleSubmit,children:e.jsx(x,{spacing:4,children:e.jsx(g,{sx:{marginTop:"25px"},fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:s!=null&&s.isLoadingFeat?e.jsx(h,{sx:{display:"flex"},children:e.jsx(p,{})}):"Feature This Project"})})})}I.propTypes={oldId:B.any};export{I as default};
