import{r as c,b as N,a9 as B,bd as J,am as $,aa as Q,j as _,ac as X,_ as F,a as Y,g as Z,s as j,R as ee,ap as te,be as se,u as oe,i as re,ak as A,c as ne,d as ae}from"./index-d14368b9.js";function ve({props:t,states:e,muiFormControl:o}){return e.reduce((m,i)=>(m[i]=t[i],o&&typeof t[i]>"u"&&(m[i]=o[i]),m),{})}const ie=c.createContext(void 0),le=ie;function we(){return c.useContext(le)}const ue=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function K(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function H(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function z(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function S(t,e,o,m,i,y){let p=!1,l=i(t,e,e?o:!1);for(;l;){if(l===t.firstChild){if(p)return!1;p=!0}const g=m?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!z(l,y)||g)l=i(t,l,o);else return l.focus(),!0}return!1}const ce=c.forwardRef(function(e,o){const{actions:m,autoFocus:i=!1,autoFocusItem:y=!1,children:p,className:l,disabledItemsFocusable:g=!1,disableListWrap:M=!1,onKeyDown:P,variant:x="selectedMenu"}=e,R=N(e,ue),f=c.useRef(null),L=c.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});B(()=>{i&&f.current.focus()},[i]),c.useImperativeHandle(m,()=>({adjustStyleForScrollbar:(s,r)=>{const u=!f.current.style.width;if(s.clientHeight<f.current.clientHeight&&u){const d=`${J($(s))}px`;f.current.style[r.direction==="rtl"?"paddingLeft":"paddingRight"]=d,f.current.style.width=`calc(100% + ${d})`}return f.current}}),[]);const I=s=>{const r=f.current,u=s.key,d=$(r).activeElement;if(u==="ArrowDown")s.preventDefault(),S(r,d,M,g,K);else if(u==="ArrowUp")s.preventDefault(),S(r,d,M,g,H);else if(u==="Home")s.preventDefault(),S(r,null,M,g,K);else if(u==="End")s.preventDefault(),S(r,null,M,g,H);else if(u.length===1){const n=L.current,b=u.toLowerCase(),C=performance.now();n.keys.length>0&&(C-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&b!==n.keys[0]&&(n.repeating=!1)),n.lastTime=C,n.keys.push(b);const T=d&&!n.repeating&&z(d,n);n.previousKeyMatched&&(T||S(r,d,!1,g,K,n))?s.preventDefault():n.previousKeyMatched=!1}P&&P(s)},v=Q(f,o);let a=-1;c.Children.forEach(p,(s,r)=>{if(!c.isValidElement(s)){a===r&&(a+=1,a>=p.length&&(a=-1));return}s.props.disabled||(x==="selectedMenu"&&s.props.selected||a===-1)&&(a=r),a===r&&(s.props.disabled||s.props.muiSkipListHighlight||s.type.muiSkipListHighlight)&&(a+=1,a>=p.length&&(a=-1))});const w=c.Children.map(p,(s,r)=>{if(r===a){const u={};return y&&(u.autoFocus=!0),s.props.tabIndex===void 0&&x==="selectedMenu"&&(u.tabIndex=0),c.cloneElement(s,u)}return s});return _.jsx(X,F({role:"menu",ref:v,className:l,onKeyDown:I,tabIndex:i?0:-1},R,{children:w}))}),pe=ce;function fe(t){return Y("MuiMenu",t)}Z("MuiMenu",["root","paper","list"]);const de=["onEntering"],me=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],he={vertical:"top",horizontal:"right"},ge={vertical:"top",horizontal:"left"},ye=t=>{const{classes:e}=t;return ae({root:["root"],paper:["paper"],list:["list"]},fe,e)},Me=j(ee,{shouldForwardProp:t=>te(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),be=j(se,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Pe=j(pe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),xe=c.forwardRef(function(e,o){var m,i;const y=oe({props:e,name:"MuiMenu"}),{autoFocus:p=!0,children:l,className:g,disableAutoFocusItem:M=!1,MenuListProps:P={},onClose:x,open:R,PaperProps:f={},PopoverClasses:L,transitionDuration:I="auto",TransitionProps:{onEntering:v}={},variant:a="selectedMenu",slots:w={},slotProps:s={}}=y,r=N(y.TransitionProps,de),u=N(y,me),d=re(),n=d.direction==="rtl",b=F({},y,{autoFocus:p,disableAutoFocusItem:M,MenuListProps:P,onEntering:v,PaperProps:f,transitionDuration:I,TransitionProps:r,variant:a}),C=ye(b),T=p&&!M&&R,k=c.useRef(null),U=(h,E)=>{k.current&&k.current.adjustStyleForScrollbar(h,d),v&&v(h,E)},W=h=>{h.key==="Tab"&&(h.preventDefault(),x&&x(h,"tabKeyDown"))};let D=-1;c.Children.map(l,(h,E)=>{c.isValidElement(h)&&(h.props.disabled||(a==="selectedMenu"&&h.props.selected||D===-1)&&(D=E))});const O=(m=w.paper)!=null?m:be,G=(i=s.paper)!=null?i:f,V=A({elementType:w.root,externalSlotProps:s.root,ownerState:b,className:[C.root,g]}),q=A({elementType:O,externalSlotProps:G,ownerState:b,className:C.paper});return _.jsx(Me,F({onClose:x,anchorOrigin:{vertical:"bottom",horizontal:n?"right":"left"},transformOrigin:n?he:ge,slots:{paper:O,root:w.root},slotProps:{root:V,paper:q},open:R,ref:o,transitionDuration:I,TransitionProps:F({onEntering:U},r),ownerState:b},u,{classes:L,children:_.jsx(Pe,F({onKeyDown:W,actions:k,autoFocus:p&&(D===-1||M),autoFocusItem:T,variant:a},P,{className:ne(C.list,P.className),children:l}))}))}),Se=xe;export{le as F,Se as M,pe as a,ve as f,we as u};
