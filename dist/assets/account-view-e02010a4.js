import{l as y,m as C,i as S,r as b,an as k,j as s,S as n,G as c,I as p,T as m,B as P,Z as I,f as B}from"./index-d14368b9.js";import{c as v,a as h}from"./object-c5e16c01.js";import{u as T,L as A}from"./formik.esm-987cff98.js";import{T as w}from"./TextField-e8821679.js";import{I as x}from"./InputAdornment-33e2c6bd.js";import{C as q}from"./Container-b3d9ce9a.js";import{C as z}from"./Card-a564b324.js";const F=v().shape({old_password:h().required("old password is Required"),new_password:h().required("new password is Required")});function V(){var i,l;const u=y(),a=C(r=>r),g=(l=(i=a==null?void 0:a.auth.user)==null?void 0:i.data)==null?void 0:l.token,f=S(),[o,t]=b.useState(!1),{isSuccess4:N,isError:E,message:d}=a.auth,e=T({initialValues:{old_password:"",new_password:""},validationSchema:F,onSubmit:r=>{const _={old_password:r==null?void 0:r.old_password,new_password:r==null?void 0:r.new_password,token:g};u(k(_))}}),j=s.jsxs(s.Fragment,{children:[s.jsxs(n,{spacing:3,sx:{margin:"1rem 0"},children:[s.jsx(w,{name:"old_password",label:"Current Password",value:e.values.old_password,onChange:e.handleChange("old_password"),onBlur:e.handleBlur("old_password"),type:o?"text":"password",InputProps:{endAdornment:s.jsx(x,{position:"end",children:s.jsx(c,{onClick:()=>t(!o),edge:"end",children:s.jsx(p,{icon:o?"eva:eye-fill":"eva:eye-off-fill"})})})}}),s.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:e.touched.old_password&&e.errors.old_password}),s.jsx(w,{sx:{margin:"1rem 0"},name:"new_password",label:"New Password",value:e.values.new_password,onChange:e.handleChange("new_password"),onBlur:e.handleBlur("new_password"),type:o?"text":"password",InputProps:{endAdornment:s.jsx(x,{position:"end",children:s.jsx(c,{onClick:()=>t(!o),edge:"end",children:s.jsx(p,{icon:o?"eva:eye-fill":"eva:eye-off-fill"})})})}}),s.jsx("div",{className:"error mt-2",style:{color:"red",fontSize:"12px",marginTop:"0px"},children:e.touched.new_password&&e.errors.new_password})]}),s.jsx("div",{className:"error mt-2",style:{color:"green",fontSize:"14px",margin:"0.5rem 0"},children:d==="success"?`password change ${d}`:""}),s.jsx(A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:e.handleSubmit,children:"Change Password"})]});return s.jsxs(q,{children:[s.jsx(n,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:s.jsx(m,{variant:"h4",children:"Account"})}),s.jsx(P,{sx:{...I({color:B(f.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:s.jsx(n,{alignItems:"center",justifyContent:"center",sx:{height:1},children:s.jsxs(z,{sx:{p:5,width:1,maxWidth:420},children:[s.jsx(m,{sx:{margin:"0 0 2rem 0"},variant:"h4",children:"Update Password"}),j]})})})]})}export{V as A};
